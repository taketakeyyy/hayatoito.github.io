<!DOCTYPE html>
<html>
  <head>
    <title>Rustが最強のプログラミング言語である証明 — hayato.io</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="twitter:card"  content="summary" />
    <meta property="twitter:title" content="Rustが最強のプログラミング言語である証明 — hayato.io"/>
    
    <link rel="canonical" href="https://hayato.io/2017/icfp-rust/"/>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <link rel="author" href="http://www.hatena.ne.jp/hayatoito1/" />
    <link href="https://hayato.io/site.css" rel="stylesheet">
    <link id="favicon" href="https://hayato.io/favicon.ico" rel="shortcut icon">
    <link href="https://hayato.io/feed.xml" rel="alternate"
          title="hayato.io" type="application/atom+xml">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-195971-6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-195971-6');
    </script>
    
  </head>
  <body data-spy="scroll" data-target="#toc" data-offset="50">
    
    <nav class="navbar navbar-expand-sm navbar-light bg-light" style="background-color: #fff !important;">
      <a class="navbar-brand" href="https://hayato.io/">hayato.io</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="https://hayato.io/archive/">Archive</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        
        <div class="col col-xl-9">
        
          
<article>
  <header class="page-header">
    <h1 id="top" class="site-article-title">
      <a href="https://hayato.io/2017/icfp-rust/" class="self-link">
        Rustが最強のプログラミング言語である証明
      </a>
    </h1>
    
    
    <div class="text-right">
      <time datetime="2017-08-31">
        2017-08-31
      </time>
    </div>
    
    
  </header>
  <div class="article-content">
    <p>2017 年現在、Rust が最強のプログラミング言語である証明を以下に示します。</p>
<h1 id="icfp"><a class="self-link" href="#icfp">ICFP プログラミングコンテスト</a></h1>
<p>ICFP プログラミングコンテストの説明については以下をご覧ください。</p>
<blockquote>
<p>ICFP Programming Contest は「なんでもあり」が特徴の，他とは一線を画す特徴的な
プログラミングコンテストです．ACM の関数型プログラミング言語の学会 ICFP
(International Conference on Functional Programming) に伴って毎年開催されてい
まして (1) プログラミング言語自由 (2) 計算資源自由 (2) チーム人数制限なし (3)
72 時間勝負 (4) 問題の形式も毎年大きく変化，等の特徴があります．優勝者は「その
年のプログラミング言語」を決めることとなっており「その年はその言語の文句は言え
ない」とか．</p>
</blockquote>
<div class='text-right'>
引用元: <a href=http://iwiwi.hatenablog.com/entry/20130927/1380255924>http://iwiwi.hatenablog.com/entry/20130927/1380255924</a>
</div>
<p><br></p>
<p>コンテスト優勝チームが使用した言語は「優秀なハッカーに選ばれたプログラミング言語」として正式に認定されます。さらに優勝チームには「使用したプログラミング言語を一年間無制限に自慢してよい」という名誉ある権利が与えられます。</p>
<p>そのため ICFP プログラミングコンテストは「最強のプログラミング言語を決める大会」という側面があります <sup>[<a href="#footnote1">1</a>]</sup>。</p>
<p>最近は以下のような風潮もあるようなのですが:</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="ja" dir="ltr">実は最近のICFPContestに対する参加者の態度にやや疑問を持っているんだ…<br>最強言語認定を自分の好きな言語に与えるために勝利を目指すんだと思ってたんだけど、まず勝つこと先行でそのためには混成言語編成チームでもかまわないみたいなのは風情に欠けるんじゃないかって</p>&mdash; Noriyuki  OHKAWA (@notogawa) <a href="https://twitter.com/notogawa/status/893421960813715456">August 4, 2017</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>それでも「自分の好きな言語に優勝させてやる！」という熱い思いをもった参加者が今年も大勢参加しました。</p>
<p>2017 年、今年のコンテストを主催したのはオックスフォード大学です。</p>
<h1 id="rust"><a class="self-link" href="#rust">Rust で参加</a></h1>
<p>私は昨年に引き続き Rust で参加しました。8 月 4 日から 8 月 7 日にかけての 72 時間です。</p>
<h1 id="a"><a class="self-link" href="#a">今年の問題</a></h1>
<p>今年の問題を簡単にいうと「鉱山（λ）に道をつなげてより多くの都市（λ から遠ければ遠いほど高得点）に到達しましょう。」という問題でした。実際のルールはもっと複雑です。興味がある方は、<a href="https://icfpcontest2017.github.io/problem/">実際の問題仕様</a>を見てください。</p>
<p>「百聞は一見にしかず」、以下の実際に行われた戦いの様子をご覧ください。私はチーム
hayatox です。</p>
<p><br></p>
<div class="embed-responsive embed-responsive-4by3">
  <iframe class="embed-responsive-item" src="https://icfpcontest2017.github.io/punttv/tv.html?game=games/full1/plain/randomMedium-ae0.json"></iframe>
</div>
<p>(<a href="https://icfpcontest2017.github.io/punttv/tv.html?game=games/full1/plain/randomMedium-ae0.json">Link</a>,
その他の大きなマップでの戦い: Map:
<a href="https://icfpcontest2017.github.io/punttv/tv.html?game=games/full2/futures-splurges/junction-c04.json">junction</a>,
Map:
<a href="https://icfpcontest2017.github.io/punttv/tv.html?game=games/full2/futures/nara-c11.json">nara</a>)</p>
<h1 id="a-1"><a class="self-link" href="#a-1">結果</a></h1>
<p>参加者から提出されたプログラムをもとにした、コンテストの<a href="https://icfpcontest2017.github.io/post/full-one/">1st ラウンドの結果</a>が今週発表されました。それによると参加チームは 146 チーム。そのうち 26 チームは提出したプログラムが仕様を満たしていないことが判明し参加不可能。残りの 120 チームの間で戦いが行われました。</p>
<p>果たしてどの言語が今年は最強の名を手にするのでしょうか？</p>
<p>各チームの使用した言語は現在のところコンテストのサイトでは明らかになっていません。そのため以下の条件で各言語を代表するチームを適当に選びました。</p>
<ol>
<li>GitHub
を<a href="https://github.com/search?utf8=%E2%9C%93&amp;q=icfp+2017&amp;type=Repositories">&quot;icfp 2017&quot;で検索</a></li>
<li>メインで使用した言語がほぼひとつであることをチェック(そうでなければスキップ）</li>
<li>チーム名が README 等に記載されている</li>
<li>1st ラウンドの結果にチーム名が載っている -&gt; 採用</li>
</ol>
<p><br></p>
<hr />
<p>各プログラミング言語とそれを使用したチーム <sup>[<a href="#footnote2">2</a>]</sup> とその人数 <sup>[<a href="#footnote3">3</a>]</sup>、そしてチームの獲得ポイント
<sup>[<a href="#footnote4">4</a>]</sup> です 。</p>
<p><br></p>
<div class='row'>
  <div class='col-4 text-right'>使用言語 （チーム名: 人数 ）</div>
  <div class='col-8 text-center'>獲得ポイント</div>
</div>
<p><br></p>
<div class='row'>
  <div class='col-4 text-right'>Rust (hayatox: <a href='https://github.com/hayatoito/icfp2017/graphs/contributors'>1</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 100.0%'>
        <span>109</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>C++ (GennAI: <a href='https://github.com/nya3jp/icfpc2017/graphs/contributors'>8</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 97.2%'>
        <span>106</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Haskell (Sampou: <a href='https://github.com/nobsun/icfpc2017/graphs/contributors'>7</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 99.1%'>
        <span>108</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Common Lisp (cvnm: <a href='https://github.com/cybevnm/icfpc-2017/graphs/contributors'>1</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 63.3%'>
        <span>69</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Clojure (drop table teams;: <a href='https://github.com/candera/icfp-2017/graphs/contributors'>2</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 34.9%'>
        <span>38</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Java (A Storm Of Minds: <a href='https://github.com/jandreske/icfpc2017/graphs/contributors'>2</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 100.0%'>
        <span>109</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Kotlin (Lambada Calculus: <a href='https://github.com/PaulTaykalo/icfp-2017/graphs/contributors'>9</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 78.9%'>
        <span>86</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Scala (codingteam: <a href='https://github.com/codingteam/icfpc-2017/graphs/contributors'>4</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 44.0%'>
        <span>48</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>C# (kontur.ru: <a href='https://github.com/skbkontur/icfpc2017-kontur-ru/graphs/contributors'>16</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 64.2%'>
        <span>70</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>F# (lambda-llama: <a href='https://github.com/lambda-llama/icfpc2017/graphs/contributors'>5</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 0.0%'>
        <span>0</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Elixir (The Mikinators: <a href='https://github.com/claytonflesher/punting/graphs/contributors'>8</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 38.5%'>
        <span>42</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Python (Lambding Snakes vs Coding Monkeys: <a href='https://github.com/pankdm/icfpc-2017/graphs/contributors'>4</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 86.2%'>
        <span>94</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Go (MIPT Lambda: <a href='https://github.com/ygorshenin/icfp2017/graphs/contributors'>3</a>)</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar' style='width: 58.7%'>
        <span>64</span>
      </div>
    </div>
  </div>
</div>
<hr />
<ul>
<li>Rust 十分強い。しかし最強という感じはまだ受けません。</li>
<li>ほとんどのチームは複数人で参加していることがわかりました。ひとりで参加している「ぼっちチーム」は Rust 以外は Common Lisp だけです。さすが Lisp。孤高の存在。</li>
<li>特に C++を用いたチーム GennAI は 8 人中 7(?)人が Google のソフトウェアエンジニアです。</li>
<li>さらに特筆すべきは C#を用いたチーム<a href="https://github.com/skbkontur/icfpc2017-kontur-ru">kontur.ru</a>。なんと 16 人チーム！もはや数の暴力です。</li>
</ul>
<h1 id="a-2"><a class="self-link" href="#a-2">正規化</a></h1>
<p>数の暴力にはこちらも理不尽な理論で対抗するしかありません。「獲得ポイント」を「チームの人数」で割ってやりましょう <sup>[<a href="#footnote5">5</a>]</sup>。正規化した結果は以下のようになります。</p>
<p><br></p>
<div class='row'>
  <div class='col-4 text-right'>Rust</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 100.0%'>
        <span>109.0</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>C++</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 12.2%'>
        <span>13.2</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Haskell</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 14.2%'>
        <span>15.4</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Common Lisp</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 63.3%'>
        <span>69.0</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Clojure</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 17.4%'>
        <span>19.0</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Java</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 50.0%'>
        <span>54.5</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Kotlin</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 8.8%'>
        <span>9.6</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Scala</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 11.0%'>
        <span>12.0</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>C#</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 4.0%'>
        <span>4.4</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>F#</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 0.0%'>
        <span>0.0</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Elixir</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 4.8%'>
        <span>5.2</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Python</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 21.6%'>
        <span>23.5</span>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-4 text-right'>Go</div>
  <div class='col-8'>
    <div class='progress'>
      <div class='progress-bar progress-bar-success' style='width: 19.6%'>
        <span>21.3</span>
      </div>
    </div>
  </div>
</div>
<p><br></p>
<p>以上により Rust が最強であることが示されました <sup>[<a href="#footnote6">6</a>]</sup>。証明終わり。</p>
<h1 id="a-3"><a class="self-link" href="#a-3">おまけ</a></h1>
<blockquote class="twitter-tweet" data-lang="en"><p lang="ja" dir="ltr">RustでICFPCに参加した同僚「コンパイラがチームメイトみたいなもんでしたよ」</p>&mdash; いもす (@imos) <a href="https://twitter.com/imos/status/894884305998036992">August 8, 2017</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>そういえばコンテストの翌日にオフィスで会った時そんなこといった気がします。:)</p>
<p>実際、私は大したことはしていません。今回は合計で 12 時間くらいしか参加しておらず、仕様もすべては実装していません <sup>[<a href="#footnote7">7</a>]</sup>。それにもかかわらず最低限動くプログラムを完成・提出できたのは、すべては Rust という素晴らしい言語を作成したコアチームと、<a href="http://crates.io">crates.io</a> という素晴らしいパッケージ・エコシステムのおかげです。今回のコンテストではじめて使用したライブラリがいくつかありますが、すべて苦労することなく使用することができました。私は巨人の肩に乗っかっただけです。</p>
<h1 id="a-4"><a class="self-link" href="#a-4">来年に向けて</a></h1>
<ul>
<li>「私の愛する JavaScript が Rust ごときに負けるはずがない。」</li>
<li>「はっはっはっ。自称最強 Ruby 使いであるこの私が出場していない大会で良い成績をとることに何の意味があるというのか？かわいいやつらめ。」</li>
<li>「その証明には致命的な誤りがあります。どこが間違っているかというと....」</li>
</ul>
<p>もっともなご意見でございます。しかしながら、参加しない人に反論する権利はまったく与えられないのがこの ICFP プログラミングコンテストです。</p>
<p>唯一の正しい反論の方法は「机上の空論を展開」することではなく、実際に「愛する XXX
言語を勝たせてやる」ことです [<a href="#footnote8">8</a>]。ぜひ来年の ICFP プログラミングコンテスト 2018 に参加してみてください。</p>
<p>興味をもった方は雰囲気をつかむため過去の問題に挑戦してみるとよいかもしれません。特に 2006 年カーネギーメロン大学が主催した「古代文明が作ったコンピュータの仕様とその上で動くプログラムを記した古文書」を巡るコンテストは「<a href="http://www.boundvariable.org/">神回</a>」として伝説になっています
[<a href="#footnote9">9</a>]。ぜひ挑戦してみてくださいね。</p>
<hr />
<p>footnotes:</p>
<ul>
<li><a name="footnote1"></a>[1]: ICFP 学会としては、コンテストを通じて「関数型プログラミングの優位性」を示したいという思いがあったはずなのですが、コンテストでは必ずしも Haskell のような「いわゆる関数型プログラミング言語」が優勝するとは限りません。主催者かわいそう。</li>
<li><a name="footnote2"></a>[2]: チーム名をここに記載すべきかどうか迷ったのですが、各言語のコードを見ることは読者にとっても有益だと思い、リンクと共に載せています。特に C#チームと F#チームの README は非常によく書けていて勉強になります。</li>
<li><a name="footnote3"></a>[3]: 各チームの人数は、レポジトリの README にメンバーが記載されている場合はそこから、記載されていない場合は実際にレポジトリに貢献した人数で判断しています。</li>
<li><a name="footnote4"></a>[4]: 獲得ポイントは 1st Round の結果のみを使用しています。最終結果は<a href="http://conf.researchr.org/home/icfp-2017">ICFP</a>（学会の方）当日、現地オックスフォードで発表されます。最終結果が発表される前のタイミングでないとこのような方向性の記事は書けません。:)</li>
<li><a name="footnote5"></a>[5]: 参考にした理論:
<a href="https://dic.pixiv.net/a/%E3%82%A6%E3%82%A9%E3%83%BC%E3%82%BA%E3%83%9E%E3%83%B3%E7%90%86%E8%AB%96">ウォーズマン理論</a></li>
<li><a name="footnote6"></a>[6]: Common Lisp が 2 位ですが、Lisp は神が作った神言語なので妥当な結果といえるでしょう。</li>
<li><a name="footnote7"></a>[7]: option という使用すれば絶対有利になる仕様を利用していません。Timeout 対策も実装していません。想定以上の大きさの Graph では
Timeout するはずです。</li>
<li><a name="footnote8"></a>[8]: もちろんチーム内で複数言語を用いるというのもありです。人数の制限がないのも含めて「なんでもあり」なところがこのコンテストの魅力です。</li>
<li><a name="footnote9"></a>[9]: 2006 年の ICFP コンテストはその内容があまりに濃かったため、参加者の間で「これ、もう主催者側が優勝でいいんじゃね？」と言われていたそうです。</li>
</ul>

  </div>
</article>


          
          <footer class="base-footer text-center">
            <small>
              <a href="/">Home</a> | &copy; 2005-2018 hayato.io
            </small>
          </footer>
          
        </div>
        
        <div class="d-print-none d-lg-none d-xl-block col-xl-3">
          <nav id="toc" data-toggle="toc">
            <nav class="nav nav-pills flex-column">
<a class="nav-link" href="#icfp">ICFP プログラミングコンテスト</a>
<a class="nav-link" href="#rust">Rust で参加</a>
<a class="nav-link" href="#a">今年の問題</a>
<a class="nav-link" href="#a-1">結果</a>
<a class="nav-link" href="#a-2">正規化</a>
<a class="nav-link" href="#a-3">おまけ</a>
<a class="nav-link" href="#a-4">来年に向けて</a>
</nav>

          </nav>
        </div>
        
      </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
  </body>
</html>
